window.usjs=!1,Blockly.JavaScript.rgbcolor=(a=>(R=Blockly.JavaScript.valueToCode(a,"R",Blockly.JavaScript.ORDER_NONE)||1,G=Blockly.JavaScript.valueToCode(a,"G",Blockly.JavaScript.ORDER_NONE)||1,B=Blockly.JavaScript.valueToCode(a,"B",Blockly.JavaScript.ORDER_NONE)||1,["new Box3RGBColor("+R+","+G+","+B+")",Blockly.JavaScript.ORDER_ATOMIC])),Blockly.JavaScript.world_say=(a=>"world.say("+Blockly.JavaScript.valueToCode(a,"M",Blockly.JavaScript.ORDER_NONE)+");\n"),Blockly.JavaScript.event_onplayerjoin=(a=>"world.onPlayerJoin(async ({entity})=>{\n"+Blockly.JavaScript.statementToCode(a,"DO")+"\n});\n"),Blockly.JavaScript.event_onentityclick=(a=>Blockly.JavaScript.valueToCode(a,"E",Blockly.JavaScript.ORDER_NONE)+".onClick(async ({entity,clicker,button})=>{\n"+Blockly.JavaScript.statementToCode(a,"DO")+"\n});\n"),Blockly.JavaScript.event_ontick=(a=>"world.onTick((evt)=>{\n"+Blockly.JavaScript.statementToCode(a,"DO")+"\n});\n"),Blockly.JavaScript.event_var_entity=(a=>["entity",Blockly.JavaScript.ORDER_ATOMIC]),Blockly.JavaScript.event_var_other=(a=>["other",Blockly.JavaScript.ORDER_ATOMIC]),Blockly.JavaScript.event_var_clicker=(a=>["clicker",Blockly.JavaScript.ORDER_ATOMIC]),Blockly.JavaScript.event_var_message=(a=>["message",Blockly.JavaScript.ORDER_ATOMIC]),Blockly.JavaScript.adv_runcode=(a=>"\n"+Blockly.JavaScript.valueToCode(a,"C",Blockly.JavaScript.ORDER_NONE)+"\n"),Blockly.JavaScript.player_getname=(a=>[Blockly.JavaScript.valueToCode(a,"P",Blockly.JavaScript.ORDER_NONE)+".name",Blockly.JavaScript.ORDER_ATOMIC]),Blockly.JavaScript.entity_getplayer=(a=>[Blockly.JavaScript.valueToCode(a,"E",Blockly.JavaScript.ORDER_NONE)+".player",Blockly.JavaScript.ORDER_ATOMIC]),Blockly.JavaScript.player_setfly=(a=>Blockly.JavaScript.valueToCode(a,"P",Blockly.JavaScript.ORDER_NONE)+".canFly="+{T:"true",F:"false"}[a.getFieldValue("BOOL")]),Blockly.JavaScript.event_onentitycontact=(a=>Blockly.JavaScript.valueToCode(a,"E",Blockly.JavaScript.ORDER_NONE)+".onEntityContact(async ({entitiy,other})=>{\n"+Blockly.JavaScript.statementToCode(a,"DO")+"\n});\n"),Blockly.JavaScript.entity_getbytag=(a=>['world.querySelector("."+'+Blockly.JavaScript.valueToCode(a,"T",Blockly.JavaScript.ORDER_NONE)+")",Blockly.JavaScript.ORDER_ATOMIC]),Blockly.JavaScript.entity_setposition=(a=>Blockly.JavaScript.valueToCode(a,"E",Blockly.JavaScript.ORDER_NONE)+".position="+Blockly.JavaScript.valueToCode(a,"S",Blockly.JavaScript.ORDER_NONE)+";\n"),Blockly.JavaScript.position=(a=>["new Box3Vector3("+Blockly.JavaScript.valueToCode(a,"X",Blockly.JavaScript.ORDER_NONE)+","+Blockly.JavaScript.valueToCode(a,"Y",Blockly.JavaScript.ORDER_NONE)+","+Blockly.JavaScript.valueToCode(a,"Z",Blockly.JavaScript.ORDER_NONE)+")",Blockly.JavaScript.ORDER_ATOMIC]),Blockly.JavaScript.player_setvisible=(a=>Blockly.JavaScript.valueToCode(a,"P",Blockly.JavaScript.ORDER_NONE)+".invisible="+a.getFieldValue("BOOL")+";\n"),Blockly.JavaScript.entity_hurt=(a=>Blockly.JavaScript.valueToCode(a,"E",Blockly.JavaScript.ORDER_NONE)+".hurt("+Blockly.JavaScript.valueToCode(a,"V",Blockly.JavaScript.ORDER_NONE)+");\n"),Blockly.JavaScript.entity_say=(a=>Blockly.JavaScript.valueToCode(a,"E",Blockly.JavaScript.ORDER_NONE)+".say("+Blockly.JavaScript.valueToCode(a,"M",Blockly.JavaScript.ORDER_NONE)+");\n"),Blockly.JavaScript.entity_setarg=(a=>Blockly.JavaScript.valueToCode(a,"E",Blockly.JavaScript.ORDER_NONE)+"."+a.getFieldValue("O")+"="+Blockly.JavaScript.valueToCode(a,"V",Blockly.JavaScript.ORDER_NONE)+";\n"),Blockly.JavaScript.player_setarg=(a=>Blockly.JavaScript.valueToCode(a,"P",Blockly.JavaScript.ORDER_NONE)+"."+a.getFieldValue("O")+"="+Blockly.JavaScript.valueToCode(a,"V",Blockly.JavaScript.ORDER_NONE)+";\n"),Blockly.JavaScript.entity_getarg=(a=>[Blockly.JavaScript.valueToCode(a,"E",Blockly.JavaScript.ORDER_NONE)+"."+a.getFieldValue("O"),Blockly.JavaScript.ORDER_ATOMIC]),Blockly.JavaScript.world_setarg=(a=>"world."+a.getFieldValue("O")+"="+Blockly.JavaScript.valueToCode(a,"V",Blockly.JavaScript.ORDER_NONE)+";\n"),Blockly.JavaScript.entity_getposition=(a=>[Blockly.JavaScript.valueToCode(a,"E",Blockly.JavaScript.ORDER_NONE)+".position."+a.getFieldValue("V"),Blockly.JavaScript.ORDER_ATOMIC]),Blockly.JavaScript.sjs_getentitybyplayername=(a=>(window.usjs=!0,["$.getEntityByName("+Blockly.JavaScript.valueToCode(a,"N",Blockly.JavaScript.ORDER_NONE)+")",Blockly.JavaScript.ORDER_ATOMIC])),Blockly.JavaScript.entity_foreach=(a=>'world.querySelectorAll("'+a.getFieldValue("T")+'").forEach((entity)=>{\n'+Blockly.JavaScript.statementToCode(a,"DO")+"\n});\n"),Blockly.JavaScript.adv_blockclamp=(a=>Blockly.JavaScript.statementToCode(a,"DO")),Blockly.JavaScript.logic_wait=(a=>"await sleep("+1e3*Blockly.JavaScript.valueToCode(a,"V",Blockly.JavaScript.ORDER_NONE)+");\n"),Blockly.JavaScript.player_setcolor=(a=>Blockly.JavaScript.valueToCode(a,"P",Blockly.JavaScript.ORDER_NONE)+".color="+Blockly.JavaScript.valueToCode(a,"C",Blockly.JavaScript.ORDER_NONE)+";\n"),Blockly.JavaScript.event_onchat=(a=>"world.onChat(async ({entity,message})=>{if(entity){\n"+Blockly.JavaScript.statementToCode(a,"DO")+"\n}});\n"),Blockly.JavaScript.event_ondie=(a=>"world.onDie(async ({entity,attacker})=>{\n"+Blockly.JavaScript.statementToCode(a,"DO")+"\n});\n"),Blockly.JavaScript.entity_isplayer=(a=>[Blockly.JavaScript.valueToCode(a,"E",Blockly.JavaScript.ORDER_NONE)+".isPlayer",Blockly.JavaScript.ORDER_ATOMIC]),Blockly.JavaScript.player_direct=(a=>Blockly.JavaScript.valueToCode(a,"P",Blockly.JavaScript.ORDER_NONE)+".directMessage("+Blockly.JavaScript.valueToCode(a,"M",Blockly.JavaScript.ORDER_NONE)+");\n"),Blockly.JavaScript.entity_setvelocity=(a=>Blockly.JavaScript.valueToCode(a,"E",Blockly.JavaScript.ORDER_NONE)+".velocity=new Box3Vector3("+Blockly.JavaScript.valueToCode(a,"X",Blockly.JavaScript.ORDER_NONE)+","+Blockly.JavaScript.valueToCode(a,"Y",Blockly.JavaScript.ORDER_NONE)+","+Blockly.JavaScript.valueToCode(a,"Z",Blockly.JavaScript.ORDER_NONE)+",);\n"),Blockly.JavaScript.block_getid1=Blockly.JavaScript.block_getid2=Blockly.JavaScript.block_getid3=Blockly.JavaScript.block_getid4=Blockly.JavaScript.block_getid5=Blockly.JavaScript.block_getid6=Blockly.JavaScript.block_getid7=Blockly.JavaScript.block_getid8=(a=>['voxels.id("'+a.getFieldValue("NAME")+'")',Blockly.JavaScript.ORDER_NONE]),Blockly.JavaScript.block_set=(a=>(p=Blockly.JavaScript.valueToCode(a,"P",Blockly.JavaScript.ORDER_ATOMIC),x=p+".x",y=p+".y",z=p+".z",`voxels.setVoxel(${x},${y},${y},${Blockly.JavaScript.valueToCode(a,"V",Blockly.JavaScript.ORDER_ATOMIC)});\n`)),Blockly.JavaScript.block_get=(a=>(p=Blockly.JavaScript.valueToCode(a,"P",Blockly.JavaScript.ORDER_ATOMIC),x=p+".x",y=p+".y",z=p+".z",[`voxels.getVoxel(${x},${y},${y})`,Blockly.JavaScript.ORDER_NONE])),Blockly.JavaScript.player_setspawnpoint=function(a){var l=Blockly.JavaScript.valueToCode(a,"P",Blockly.JavaScript.ORDER_ATOMIC),c=Blockly.JavaScript.valueToCode(a,"O",Blockly.JavaScript.ORDER_ATOMIC),o=`${l}.spawnPoint=${c};\n`;return o},Blockly.JavaScript.debug_log=function(a){var l=Blockly.JavaScript.valueToCode(a,"V",Blockly.JavaScript.ORDER_ATOMIC),c=`console.log(${l});\n`;return c},Blockly.JavaScript.debug_clear=function(a){var l="console.clear();\n";return l},Blockly.JavaScript.debug_warn=function(a){var l=Blockly.JavaScript.valueToCode(a,"V",Blockly.JavaScript.ORDER_ATOMIC),c=`console.warn(${l});\n`;return c},Blockly.JavaScript.debug_error=function(a){var l=Blockly.JavaScript.valueToCode(a,"V",Blockly.JavaScript.ORDER_ATOMIC),c=`console.error(${l});\n`;return c},Blockly.JavaScript.logic_intext=function(a){var l=Blockly.JavaScript.valueToCode(a,"A",Blockly.JavaScript.ORDER_ATOMIC),c=Blockly.JavaScript.valueToCode(a,"B",Blockly.JavaScript.ORDER_ATOMIC),o=`"${l}".indexOf("${c}")!=-1`;return[o,Blockly.JavaScript.ORDER_NONE]},Blockly.JavaScript.player_setattr=function(a){var l=Blockly.JavaScript.valueToCode(a,"P",Blockly.JavaScript.ORDER_ATOMIC),c=a.getFieldValue("ATR"),o=Blockly.JavaScript.valueToCode(a,"V",Blockly.JavaScript.ORDER_ATOMIC),t=`${l}.${c}=${o};\n`;return t},Blockly.JavaScript.debug_clear=function(){var a="console.clear();\n";return a},Blockly.JavaScript.sjs_enablewarning=function(a){window.usjs=!0;var l=a.getFieldValue("B"),c="$.enabledWarning="+l+";\n";return c},Blockly.JavaScript.event_init=function(a){return""},Blockly.JavaScript.player_movestate=function(a){var l=a.getFieldValue("S"),c=`${l}`;return[c,Blockly.JavaScript.ORDER_NONE]},Blockly.JavaScript.player_getmovestate=function(a){var l=Blockly.JavaScript.valueToCode(a,"P",Blockly.JavaScript.ORDER_ATOMIC),c=`${l}.moveState`;return[c,Blockly.JavaScript.ORDER_NONE]},Blockly.JavaScript.player_walkstate=function(a){var l=a.getFieldValue("S"),c=`${l}`;return[c,Blockly.JavaScript.ORDER_NONE]},Blockly.JavaScript.player_getwalkstate=function(a){var l=Blockly.JavaScript.valueToCode(a,"P",Blockly.JavaScript.ORDER_ATOMIC),c=`${l}.walkState`;return[c,Blockly.JavaScript.ORDER_NONE]},Blockly.JavaScript.player_forcerespawn=function(a){var l=Blockly.JavaScript.valueToCode(a,"P",Blockly.JavaScript.ORDER_ATOMIC),c=`${l}.forceRespawn();\n`;return c},Blockly.JavaScript.player_getattr=function(a){var l=Blockly.JavaScript.valueToCode(a,"P",Blockly.JavaScript.ORDER_ATOMIC),c=a.getFieldValue("T"),o=`${l}.${c}`;return[o,Blockly.JavaScript.ORDER_NONE]},Blockly.JavaScript.entity_enabledamage=function(a){var l=a.getFieldValue("O"),c=Blockly.JavaScript.valueToCode(a,"E",Blockly.JavaScript.ORDER_ATOMIC),o=`${c}.enableDamage=${l};\n`;return o},Blockly.JavaScript.entity_showhealthbar=function(a){var l=a.getFieldValue("O"),c=Blockly.JavaScript.valueToCode(a,"E",Blockly.JavaScript.ORDER_ATOMIC),o=`${c}.showHealthBar=${l};\n`;return o},Blockly.JavaScript.sjs_initfalldamage=function(){window.usjs=!0;var a="$.initFallDamage();\n";return a};